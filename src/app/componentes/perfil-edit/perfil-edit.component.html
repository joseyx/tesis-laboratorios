<div class="main">
  <div class="container">
    <header>Formulario de Actualización</header>
    <form #updateForm="ngForm" class="form" (ngSubmit)="onSubmit(updateForm)">
      <div class="column">
        <div class="input-box">
          <label for="name">Nombre:</label>
          <input type="text" id="name" [(ngModel)]="user.name" name="name" #nameInput required #nameField="ngModel" placeholder="Nombre..." />
          <div *ngIf="nameField.invalid && (nameField.dirty || nameField.touched)" class="error">
            <div *ngIf="nameField.errors?.['required']">El nombre es obligatorio.</div>
          </div>
        </div>
        <div class="input-box">
          <label for="email">Correo electrónico:</label>
          <input type="email" id="email" [(ngModel)]="user.email" name="email" #emailInput required #emailField="ngModel" placeholder="Correo..." />
          <div *ngIf="emailField.invalid && (emailField.dirty || emailField.touched)" class="error">
            <div *ngIf="emailField.errors?.['required']">El correo electrónico es obligatorio.</div>
          </div>
        </div>
      </div>
      <div class="column">
        <div class="input-box">
          <label for="phone">Número de teléfono:</label>
          <input type="text" id="phone" [(ngModel)]="user.phone" name="phone" #phoneInput required #phoneField="ngModel" placeholder="Telefóno..." />
          <div *ngIf="phoneField.invalid && (phoneField.dirty || phoneField.touched)" class="error">
            <div *ngIf="phoneField.errors?.['required']">El número de teléfono es obligatorio.</div>
          </div>
        </div>
<!--        <div class="input-box">-->
<!--          <label for="password">Contraseña:</label>-->
<!--          <input type="password" id="password" [(ngModel)]="user.password" name="password" #passwordInput required #passwordField="ngModel" placeholder="Contraseña..." />-->
<!--          <div *ngIf="passwordField.invalid && (passwordField.dirty || passwordField.touched)" class="error">-->
<!--            <div *ngIf="passwordField.errors?.['required']">La contraseña es obligatoria.</div>-->
<!--          </div>-->
<!--        </div>-->
      </div>
      <div class="input-box">
        <label for="imagen">Imagen de Perfil:</label>
        <input type="file" id="imagen" [(ngModel)]="user.image" (change)="onFileChange($event)" name="imagen" #imageInput #imageField="ngModel" />
        <div *ngIf="user.image">
          <img ngSrc="{{user.image}}" alt="Vista previa de la imagen" style="max-width: 100px; max-height: 100px;"/>
        </div>
        <div *ngIf="imageField.invalid && (imageField.dirty || imageField.touched)" class="error">
          <div *ngIf="imageField.errors?.['required']">La imagen es obligatoria.</div>
        </div>
      </div>
      <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
      </div>
      <div class="input-box">
        <button type="submit" class="btn" [disabled]="updateForm.invalid">Actualizar perfil</button>
      </div>
    </form>
  </div>
</div>
